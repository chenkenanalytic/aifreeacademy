<!DOCTYPE html>
<html lang="zh-Hant">
{% include 'academy/default/head.html' %}
<body class="page-container">
  <!-- Navbar -->
  {% include 'academy/default/navbar.html' %}

<!-- Hero -->
<header class="py-5 bg-light" style="
      background: linear-gradient(rgba(0,0,0,.55), rgba(0,0,0,.55)),
                  url('/static/academy/img/hero.png') center/cover no-repeat;
      max-height: 70vh;
    ">
  <div class="container">
    <h1 class="fw-bold mb-3" style="color: lightblue;">{{ course.title }}</h1>
    <p class="lead" style="color: white;">{{ course.subtitle }}</p>
    <!-- <img src="/static/academy/img/hero.png" style="max-height: 120px;" class="hero-img mt-4" alt="Course Image" /> -->
  </div>
</header>

<!-- Course Intro -->
<section class="container py-5">
  <div class="container">
    <div class="row g-5">
      <div class="col-lg-8">
        <h2 class="section-title">課程簡介</h2>
        {{ course.description }}
        <br><br>
        <h2 class="section-title">課程大綱</h2>
        <div class="accordion" id="courseAccordion">
          {% for chapter in course.chapters.all %}
          <div class="accordion-item">
            <h2 class="accordion-header"><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#{{ chapter.order }}">{{ chapter.title }}</button></h2>
            <div id="{{ chapter.order }}" class="accordion-collapse collapse" data-bs-parent="#courseAccordion">
              {% for lesson in chapter.lessons.all %}
              <div class="accordion-body">{{ lesson.title }}</div>
              {% endfor %}
            </div>
          </div>
          {% endfor %}
          <!-- <div class="accordion-item">
            <h2 class="accordion-header"><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#week2">第 2 週：函式與物件導向</button></h2>
            <div id="week2" class="accordion-collapse collapse" data-bs-parent="#courseAccordion">
              <div class="accordion-body">函式定義、參數、類別與物件</div>
            </div>
          </div>
          <div class="accordion-item">
            <h2 class="accordion-header"><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#week3">第 3 週：專案實作</button></h2>
            <div id="week3" class="accordion-collapse collapse" data-bs-parent="#courseAccordion">
              <div class="accordion-body">實作簡易 API 專案 / 資料分析實作</div>
            </div>
          </div> -->
        </div>
      </div>

      <!-- Sidebar -->
      <div class="col-lg-4">
        <div class="bg-white border p-4 shadow-sm rounded">
          <h4 class="fw-bold mb-3">課程資訊</h4>
          <p><i class="fa-solid fa-user me-2"></i><strong>講師：</strong>{{ course.instructor }}</p>
          <p><i class="fa-solid fa-clock me-2"></i><strong>總時數：</strong>{{ course.duration_hours }} 小時</p>
          <p><i class="fa-solid fa-signal me-2"></i><strong>程度：</strong>{{ course.level }}</p>
          <!-- <p><i class="fa-solid fa-certificate me-2"></i><strong>附結業證書</strong></p> -->
          <p><i class="fa-solid fa-users me-2"></i><strong>課程人數： {{ course.enroll_count }} 人</strong></p>

          <hr>
          <p class="fs-4 fw-bold text-primary">NT$ {{ course.price }}</p>
          {% if has_enrolled %}
          <a href="/academy/course/{{ course.slug }}/class" class="btn btn-primary btn-lg w-100 mt-2">立即上課</a>
          {% else %}
          <a href="/academy/course/{{ course.slug }}/register" class="btn btn-primary btn-lg w-100 mt-2">立即報名</a>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Footer -->
<footer class="py-4 text-center">
  <div class="container">
    <p class="mb-1">© 2025 自由學院 AI . FREE Academy</p>
    <div>
      <a href="#"><i class="fa-brands fa-facebook me-3"></i></a>
      <a href="#"><i class="fa-brands fa-twitter me-3"></i></a>
      <a href="#"><i class="fa-brands fa-instagram"></i></a>
    </div>
  </div>
</footer>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
